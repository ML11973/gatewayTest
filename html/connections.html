<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WPAN Gateway: Connections</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">WPAN Gateway
   </div>
   <div id="projectbrief">A low-power border router</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="code_overview.html">Codebase overview</a></li><li class="navelem"><a class="el" href="borderrouter.html">Border router</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Connections </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md70"></a>
Description</h1>
<p>A <a class="el" href="classConnection.html" title="Connection class.">Connection</a> is a datagram forwarder from a UDP socket to a DataNode. This is the core of the <a class="el" href="borderrouter.html">Border router</a> functionality.</p>
<h1><a class="anchor" id="autotoc_md71"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md72"></a>
Instantiation</h2>
<p>The class is instantiated with a pointer to its DataNode. It opens a socket to UDP port = <a class="el" href="netconfig_8h.html#a499c91910a3ad5b9f1912070e0f7f217" title="Base port for Connection UDP sockets.">BASE_GW_IN_PORT</a> + DataNode::address. Any device can then connect to a DataNode provided they can reach the UDP port.</p>
<h2><a class="anchor" id="autotoc_md73"></a>
Ticking</h2>
<p>Connections must be manually polled since DataNode data reception does not throw interrupts yet.</p>
<h2><a class="anchor" id="autotoc_md74"></a>
Packet forwarding</h2>
<p>As of now, <a class="el" href="classConnection.html" title="Connection class.">Connection</a> forwards any incoming UDP datagrams to its remote node. It forwards all datagrams coming from its node to the <b>last UDP sender</b>. This is basic, can be unpractical and unsafe, but functional for now. Security is left to the user via access control on the gateway's sockets.</p>
<p>A way to eliminate this problem would be to include source address and port in datagrams transmitted via <a class="el" href="data_protocol.html">Data transfer protocol</a>. This would however reduce already limited payload, since an IPv6 address is 16-byte long and a port number is 2-byte long. This would thus take away 18 bytes out of at least one <a class="el" href="data_protocol.html">Data transfer protocol</a> packet or out of every packet depending on implementation.</p>
<p>Given the probable use case of one local server centralizing all WPAN information and making it accessible online, the security gains of reliable UDP (!) transfer are slim provided the user configures the border router's firewall correctly. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
