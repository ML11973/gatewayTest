\hypertarget{connections_autotoc_md84}{}\doxysubsection{Description}\label{connections_autotoc_md84}
A \mbox{\hyperlink{classConnection}{Connection}} is a datagram forwarder from a UDP socket to a \mbox{\hyperlink{classDataNode}{Data\+Node}}. This is the core of the \mbox{\hyperlink{borderrouter}{Border router}} functionality.\hypertarget{connections_autotoc_md85}{}\doxysubsection{Usage}\label{connections_autotoc_md85}
\hypertarget{connections_autotoc_md86}{}\doxysubsubsection{Instantiation}\label{connections_autotoc_md86}
The class is instantiated with a pointer to its \mbox{\hyperlink{classDataNode}{Data\+Node}}. It opens a socket to UDP port = \mbox{\hyperlink{netconfig_8h_a499c91910a3ad5b9f1912070e0f7f217}{BASE\+\_\+\+GW\+\_\+\+IN\+\_\+\+PORT}} + \mbox{\hyperlink{classNode_a6b9b0a87d5517d27c955195e216441ee}{Data\+Node\+::address}}. Any device can then connect to a \mbox{\hyperlink{classDataNode}{Data\+Node}} provided they can reach the UDP port.\hypertarget{connections_autotoc_md87}{}\doxysubsubsection{Ticking}\label{connections_autotoc_md87}
Connections must be manually polled since \mbox{\hyperlink{classDataNode}{Data\+Node}} data reception does not throw interrupts yet.\hypertarget{connections_autotoc_md88}{}\doxysubsubsection{Packet forwarding}\label{connections_autotoc_md88}
As of now, \mbox{\hyperlink{classConnection}{Connection}} forwards any incoming UDP datagrams to its remote node. It forwards all datagrams coming from its node to the {\bfseries{last UDP sender}}. This is basic, can be unpractical and unsafe, but functional for now. Security is left to the user via access control on the gateway\textquotesingle{}s sockets.

A way to eliminate this problem would be to include source address and port in datagrams transmitted via \mbox{\hyperlink{data_protocol}{Data transfer protocol}}. This would however reduce already limited payload, since an IPv6 address is 16-\/byte long and a port number is 2-\/byte long. This would thus take away 18 bytes out of at least one \mbox{\hyperlink{data_protocol}{Data transfer protocol}} packet or out of every packet depending on implementation.

Given the probable use case of one local server centralizing all WPAN information and making it accessible online, the security gains of reliable UDP (!) transfer are slim provided the user configures the border router\textquotesingle{}s firewall correctly. 